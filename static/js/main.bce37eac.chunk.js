(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{40:function(n,e,t){"use strict";t.r(e);var r,i,c,a,o,s,u,d,f,l,b,j,p,h,g,O,m,x,v,w,y,k,S,P,z,L,A,C,I,M,T,F,R,Y,E,N,H,G,U,W,D,K,B,J,Z,V=t(2),X=t.n(V),q=t(26),Q=t.n(q),$=t(15),_=t(12),nn=t(14),en=t.n(nn),tn=t(18),rn=t(7),cn=t(4),an=t(11),on=(t(36),t(42),t(41),t(5)),sn=t.p+"static/media/Konoha.8438ae9d.svg",un=t(1),dn=on.c.div(r||(r=Object(cn.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  transition: 0.5s transform ease;\n  backface-visibility: hidden;\n  top: 0;\n  left: 0;\n"]))),fn=Object(on.c)(dn)(i||(i=Object(cn.a)(["\n  background: #84abf3;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transform: ",";\n"])),(function(n){return n.flipped?"rotateY(180deg)":null})),ln=Object(on.c)(dn)(c||(c=Object(cn.a)(["\n  transform: rotateY(-180deg);\n  background: red;\n  transform: ",";\n"])),(function(n){return n.flipped?"rotateY(0deg)":null})),bn=on.c.div(a||(a=Object(cn.a)(["\n  border-radius: 3px;\n  overflow: hidden;\n  width: 100%;\n  max-height: 50vh;\n  position: relative;\n  cursor: pointer;\n  visibility: ",";\n  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.19), 3px 3px 6px rgba(0, 0, 0, 0.23);\n"])),(function(n){return n.loadingProp&&"hidden"})),jn=on.c.img.attrs((function(n){return{src:n.srcProp,alt:n.altProp}}))(o||(o=Object(cn.a)(["\n  margin: auto;\n  display: block;\n  width: 30%;\n"]))),pn=on.c.img.attrs((function(n){return{src:n.srcProp,alt:n.altProp}}))(s||(s=Object(cn.a)(["\n  width: 100%;\n  height: 100%;\n\n  object-fit: cover;\n  object-position: 50% 20%;\n"]))),hn=function(n){var e=n.imageSrc,t=n.flipped,r=n.index,i=n.onCardClickFunction,c=n.setImageLoaded,a=n.loading;return Object(un.jsxs)(bn,{loadingProp:a,onClick:function(){return i(r)},children:[Object(un.jsx)(fn,{flipped:t,children:Object(un.jsx)(jn,{srcProp:sn,altProp:"Konoha"})}),Object(un.jsx)(ln,{flipped:t,children:Object(un.jsx)(pn,{onLoad:function(){c((function(n){var e=Object(_.a)(n);return e[r]=!0,e}))},srcProp:e})})]})},gn=on.c.div(u||(u=Object(cn.a)(["\n  display: flex;\n  justify-content: space-between;\n  grid-column: 1/-1;\n  padding: 10px;\n  align-items: center;\n  border: 1px solid #03d9ff;\n  border-radius: 3px;\n"]))),On=on.c.div(d||(d=Object(cn.a)(["\n  font-size: 1rem;\n  font-weight: 700;\n  color: #575757;\n"]))),mn=on.c.div(f||(f=Object(cn.a)(["\n  width: max-content;\n  background: #ff6464;\n  color: white;\n  font-size: 1.2rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  cursor: pointer;\n  border-radius: 3px;\n"]))),xn=function(n){var e=n.currentUser,t=n.signOut;return Object(un.jsxs)(gn,{children:[Object(un.jsx)(On,{children:e}),Object(un.jsx)(mn,{onClick:function(){return t()},children:"Sign Out"})]})},vn=Object(on.d)(l||(l=Object(cn.a)(["\n    from {\n        transform:translate(-50%,-30%);\n    }\n    to{\n        transform:translate(-50%,-50%);\n    }\n"]))),wn=on.c.div(b||(b=Object(cn.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  height: 300px;\n  width: 300px;\n  min-width: 20vw;\n  min-height: 20vh;\n  max-width: 100%;\n  max-height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 5px;\n  animation: 0.5s "," forwards ease-out;\n"])),vn),yn=Object(on.d)(j||(j=Object(cn.a)(["\n    from {transform:translateY(30%) scale(1); opacity:0.5;}\n    to {transform:translateY(0%) scale(1); opacity:1;}\n"]))),kn=on.c.div(p||(p=Object(cn.a)(["\n  height: 50px;\n  width: 250px;\n  min-width: 80%;\n  min-height: 20%;\n  max-width: 100%;\n  max-height: 45%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.2rem;\n  animation: 1s "," ease-out;\n  cursor: pointer;\n  transition: 0.2s transform;\n  :active {\n    transform: scale(1.02);\n    opacity: 0.7;\n  }\n"])),yn),Sn=Object(on.c)(kn)(h||(h=Object(cn.a)(["\n  background: #f75858;\n\n  color: white;\n"]))),Pn=Object(on.c)(kn)(g||(g=Object(cn.a)(["\n  background: #6eaffa;\n  color: white;\n"]))),zn=on.c.div(O||(O=Object(cn.a)(["\n  color: #69df69;\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 10%;\n  margin-top: 10%;\n"]))),Ln=Object(on.d)(m||(m=Object(cn.a)(["\n    0% {opacity:0}\n    10%, 90% {opacity:1}\n    100% {opacity:0}\n"]))),An=on.c.div(x||(x=Object(cn.a)(["\n  color: #f35555;\n  background: white;\n  font-weight: 600;\n  position: absolute;\n  left: 0px;\n  right: 0px;\n  top: 0;\n  text-align: center;\n  z-index: 10;\n  animation: ",";\n"])),(function(n){return n.error?Object(on.b)(v||(v=Object(cn.a)(["5s "," forwards ease-in-out"])),Ln):null})),Cn=function(n){var e=n.facebookLogin,t=n.googleLogin,r=n.error;return Object(un.jsxs)(wn,{children:[Object(un.jsx)(An,{error:r.length>0,children:r}),Object(un.jsx)(zn,{children:"Sign In"}),Object(un.jsx)(Sn,{onClick:t,children:"Google"}),Object(un.jsx)(Pn,{onClick:e,children:"Facebook"})]})},In=t.p+"static/media/Loading.abac6ad2.svg",Mn=on.c.div(w||(w=Object(cn.a)(["\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  width: 100px;\n  transform: translate(-50%, -50%);\n  min-width: 10%;\n  max-width: 30%;\n  padding: 2px;\n  height: 10px;\n  border-radius: 3px;\n  background: gray;\n  z-index: 40;\n"]))),Tn=on.c.div.attrs((function(n){return{style:{width:n.widthProp+"%"}}}))(y||(y=Object(cn.a)(["\n  height: 100%;\n  background: #6ac3ff;\n"]))),Fn=function(n){var e=n.currentProgress,t=n.progressLength;return Object(un.jsx)(Mn,{children:Object(un.jsx)(Tn,{widthProp:e/t*100})})},Rn=on.c.div(k||(k=Object(cn.a)(["\n  padding: 4px;\n  margin-top: 20px;\n  flex-grow: 1;\n  display: grid;\n\n  @media (min-width: 500px) {\n    grid-template-columns: repeat(4, minmax(100px, 1fr));\n    grid-template-rows: repeat(3, 1fr);\n  }\n  @media (min-width: 1000px) {\n    grid-template-columns: repeat(4, 150px);\n    grid-template-rows: repeat(3, minmax(1fr, 250px));\n  }\n  @media (min-width: 1500px) {\n    grid-template-columns: repeat(6, 150px);\n    grid-template-rows: repeat(2, minmax(1fr, 250px));\n  }\n  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n  align-items: stretch;\n  justify-content: center;\n  grid-gap: 4px;\n"]))),Yn=on.c.object.attrs((function(n){return{data:n.srcProp,type:"image/svg+xml"}}))(S||(S=Object(cn.a)(["\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  width: 5%;\n  transform: translate(-50%, -50%);\n"]))),En=on.c.div(P||(P=Object(cn.a)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 10%;\n  border: 1px solid black;\n  border-radius: 3px;\n  padding: 15px;\n  color: #006eff;\n  font-size: 1.5rem;\n  font-weight: 600;\n  background: #b0ffb0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 20;\n  cursor: pointer;\n  :active {\n    background: #d5ffd5;\n  }\n"]))),Nn=function(n){return Object(un.jsxs)(un.Fragment,{children:[n.loading?n.imageLoadingProgress!==n.progressLength?Object(un.jsx)(Fn,{currentProgress:n.imageLoadingProgress,progressLength:n.progressLength}):Object(un.jsx)(Yn,{srcProp:In}):!n.started&&Object(un.jsx)(En,{onClick:function(){return n.start()},children:n.shouldContinue?"Continue":"Start"}),Object(un.jsx)(Rn,{loadingProp:n.loading,children:n.children})]})},Hn=t(30),Gn=function(){var n=Object(tn.a)(en.a.mark((function n(e,t,r,i,c){var a,o,s,u,d;return en.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=[],n.next=3,r.listAll().then((function(n){return n})).catch((function(n){}));case 3:o=n.sent,s=Object(Hn.a)(o.items),n.prev=5,s.s();case 7:if((u=s.n()).done){n.next=13;break}return d=u.value,n.next=11,d.getDownloadURL().then((function(n){a.push(n)})).catch((function(n){}));case 11:n.next=7;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),s.e(n.t0);case 18:return n.prev=18,s.f(),n.finish(18);case 21:i.current=a,e(Un(a)),t(Wn()),c(!0);case 25:case"end":return n.stop()}}),n,null,[[5,15,18,21]])})));return function(e,t,r,i,c){return n.apply(this,arguments)}}(),Un=function(n){for(var e=Object(_.a)(n),t=[],r=0;r<6;r++)t.push(e.splice(Math.round(Math.random()*e.length-1),1)[0]);return t},Wn=function(){for(var n=[].concat(Object(_.a)(Array.from(Array(6).keys())),Object(_.a)(Array.from(Array(6).keys()))),e=[],t=0;t<12;t++)e.push({urlIndex:n.splice(Math.round(Math.random()*n.length-1),1)[0],flipped:!1});return e},Dn=function(n){var e=~~n%60,t="";return t+=~~(n%3600/60)+":"+(e<10?"0":""),t+=""+e},Kn=function(n){var e=6e4,t=36e5,r=864e5,i=2592e6,c=31536e6,a=Date.now()-n;return a<e?Math.round(a/1e3)+" seconds ago":a<t?Math.round(a/e)+" minutes ago":a<r?Math.round(a/t)+" hours ago":a<i?Math.round(a/r)+" days ago":a<c?Math.round(a/i)+" months ago":Math.round(a/c)+" years ago"},Bn=t.p+"static/media/Arrow.5b0512cf.svg",Jn=on.c.div(z||(z=Object(cn.a)(["\n  height: 50vh;\n  display: flex;\n  position: absolute;\n  background: #a3ddff;\n  z-index: 20;\n  bottom: 0;\n  left: 0;\n  margin: 0 !important;\n  padding: 2rem 10px 0 10px;\n  overflow: auto;\n  box-sizing: border-box;\n  ::-webkit-scrollbar {\n    width: 5px;\n    height: 5px;\n    background: #ffffff;\n  }\n  ::-webkit-scrollbar-thumb {\n    background: gray;\n  }\n\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: start;\n  transition: 1s transform ease;\n  transform: ",";\n"])),(function(n){return n.showHistory?"translateY(100%)":"translateY(0%)"})),Zn=on.c.div(L||(L=Object(cn.a)(["\n  width: 100%;\n  margin: 15px 0;\n  display: flex;\n  justify-content: space-between;\n  > * {\n    font-size: 0.8rem !important;\n  }\n"]))),Vn=on.c.div(A||(A=Object(cn.a)(["\n  color: #ffffff;\n"]))),Xn=on.c.div(C||(C=Object(cn.a)(["\n  font-size: 1.3rem;\n  color: white;\n  margin-top: 10px;\n"]))),qn=function(n){var e=n.history,t=n.showHistory,r=n.isMobile;return Object(un.jsx)(Jn,{showHistory:t,children:e.length>0?Object(_.a)(e).reverse().map((function(n,e){var t=n.tries,i=n.score,c=n.timeNeeded,a=n.createdAt;return Object(un.jsxs)(Zn,{children:[Object(un.jsxs)(te,{children:[!r&&"Score:"," ",i]}),Object(un.jsxs)(ie,{children:[!r&&"Tries:"," ",t]}),Object(un.jsxs)(re,{children:[!r&&"Time Needed:"," ",c]}),Object(un.jsxs)(Vn,{children:[" ",Kn(a)," "]})]},e)})):Object(un.jsx)(Xn,{children:"No Games Yet"})})},Qn=on.c.div(I||(I=Object(cn.a)(["\n  position: fixed;\n  border: 0 !important;\n\n  top: 0;\n  @media (max-width: 768px) {\n    right: 0;\n    left: initial;\n    transform: initial;\n  }\n  left: 50%;\n  transform: translateX(-50%);\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 30;\n"]))),$n=on.c.div(M||(M=Object(cn.a)(["\n  position: relative;\n"]))),_n=on.c.div(T||(T=Object(cn.a)(["\n  background: rgb(137, 198, 255, 0.5);\n  font-size: 1.2rem;\n  display: flex;\n  justify-content: space-between;\n  padding: 5px;\n  > * {\n    margin: 0 10px;\n  }\n"]))),ne=on.c.div(F||(F=Object(cn.a)(["\n  position: absolute;\n  bottom: 100%;\n  right: 0;\n  width: 150%;\n  box-sizing: border-box;\n  z-index: -1;\n"]))),ee=on.c.div(R||(R=Object(cn.a)(["\n  width: max-content;\n  white-space: nowrap;\n"]))),te=Object(on.c)(ee)(Y||(Y=Object(cn.a)(["\n  color: green;\n"]))),re=Object(on.c)(ee)(E||(E=Object(cn.a)(["\n  color: red;\n"]))),ie=Object(on.c)(ee)(N||(N=Object(cn.a)(["\n  color: blue;\n"]))),ce=on.c.div(H||(H=Object(cn.a)(["\n  left: 0;\n  padding: 5px;\n  margin-right: 10px;\n  height: 100%;\n  font-size: 1.2rem;\n  text-align: center;\n  background: #5eb1ff;\n  color: white;\n  cursor: pointer;\n"]))),ae=on.c.img.attrs((function(n){return{src:n.srcProp}}))(G||(G=Object(cn.a)(["\n  transition: transform 1s ease;\n\n  transform: ",";\n  cursor: pointer;\n  margin: 0 10px;\n  width: 1rem;\n"])),(function(n){return n.showHistory?"rotate(-180deg)":"rotate(0deg)"})),oe=Object(on.c)(_n)(U||(U=Object(cn.a)(["\n  position: fixed;\n  left: 50%;\n  top: 30%;\n  transform: translate(-50%, -50%);\n  padding: 15px;\n  border-radius: 3px;\n  background: rgb(151, 255, 174);\n  z-index: 30;\n"]))),se=function(n){var e=n.isMobile,t=n.history,r=n.save,i=n.score,c=n.timeLeft,a=n.tries,o=n.gameFinished,s=Object(V.useState)(!1),u=Object(rn.a)(s,2),d=u[0],f=u[1],l=Object(V.useState)({score:0,tries:0,timeNeeded:0}),b=Object(rn.a)(l,2),j=b[0],p=b[1];return Object(V.useEffect)((function(){t.length>0&&p((function(){return t[t.length-1]}))}),[t]),Object(un.jsxs)(un.Fragment,{children:[o&&Object(un.jsxs)(oe,{children:[Object(un.jsxs)(te,{children:["Score: ",j.score]}),Object(un.jsxs)(ie,{children:["Tries: ",j.tries]}),Object(un.jsxs)(re,{children:["Time Needed: ",Dn(j.timeNeeded)]})]}),Object(un.jsxs)(Qn,{isMobile:e,children:[Object(un.jsx)(ce,{onClick:function(){return r()},children:"Save"}),Object(un.jsxs)($n,{children:[Object(un.jsxs)(_n,{children:[Object(un.jsxs)(te,{children:[!e&&"Score:"," ",i]}),Object(un.jsxs)(ie,{children:[!e&&"Tries:"," ",a]}),Object(un.jsxs)(re,{children:[!e&&"Time Left:"," ",Dn(c)]})]}),Object(un.jsx)(ne,{children:Object(un.jsx)(qn,{isMobile:e,showHistory:d,history:t})})]}),Object(un.jsx)(ae,{showHistory:d,onClick:function(){return f(!d)},srcProp:Bn})]})]})},ue=t.p+"static/media/Menu.de21b81a.svg",de=on.c.div(W||(W=Object(cn.a)(["\n  position: fixed;\n  transition: height 1s ease, width 1s ease, border-radius 1s ease;\n  background: #c4ffff;\n  width: ",";\n  height: ",";\n\n  transform: translate(-50%, -50%);\n  left: 0;\n  top: 0;\n  border-radius: "," !important;\n  z-index: 30;\n  cursor: pointer;\n"])),(function(n){return n.menuActivated?"400px":"100px"}),(function(n){return n.menuActivated?"400px":"100px"}),(function(n){return n.menuActivated?"0%":"50%"})),fe=on.c.img.attrs((function(n){return{src:n.src}}))(D||(D=Object(cn.a)(["\n  position: fixed;\n  left: 3px;\n  top: 3px;\n  width: 1.5rem;\n  z-index: 40;\n  cursor: pointer;\n"]))),le=on.c.div(K||(K=Object(cn.a)(["\n  opacity: ",";\n  transform: ",";\n  transition: opacity 1s, transform 1s;\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  top: 2rem;\n  left: 3rem;\n  z-index: 50;\n  border: 0px !important;\n  gap: 10px;\n"])),(function(n){return n.menuActivated?1:0}),(function(n){return n.menuActivated?"translate(0%,0%)":"translate(-150%,-200%)"})),be=function(n){var e=n.currentUser,t=n.signOut,r=Object(V.useState)(!1),i=Object(rn.a)(r,2),c=i[0],a=i[1];return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(de,{menuActivated:c,onClick:function(){return a(!c)}}),Object(un.jsx)(fe,{onClick:function(){return a(!c)},src:ue}),Object(un.jsxs)(le,{menuActivated:c,children:[Object(un.jsx)(On,{children:e}),Object(un.jsx)(mn,{onClick:function(){return t()},children:" Sign out"})]})]})},je=function(){var n=Object(V.useState)({width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<=768}),e=Object(rn.a)(n,2),t=e[0],r=e[1];return Object(V.useEffect)((function(){var n=function(){r({width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<=768})};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}})),{windowInfo:t}};an.a.initializeApp({apiKey:"AIzaSyDNSZ31RYwTbdfVar02zwZAtBzc2OYfGxo",authDomain:"card-game-2c6cb.firebaseapp.com",projectId:"card-game-2c6cb",storageBucket:"card-game-2c6cb.appspot.com",messagingSenderId:"1093466034026",appId:"1:1093466034026:web:f0e1c493db29e44a759f13",measurementId:"G-TKFCP861PS"});var pe=an.a.auth(),he=an.a.firestore(),ge=an.a.storage().ref().child("Images"),Oe=Object(on.a)(B||(B=Object(cn.a)(["\n  body{\n    margin:0;\n  }\n"]))),me=on.c.div(J||(J=Object(cn.a)(["\n  display: flex;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n  height: 100vh;\n  width: 70%;\n  margin: auto;\n"]))),xe=on.c.div(Z||(Z=Object(cn.a)(["\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  width: 50vw;\n  height: 50vh;\n  transform: translate(-50%, -50%);\n  border: 1px solid gray;\n  background: #f7f7f7;\n  color: #ff4848;\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 40;\n"])));var ve=function(){var n=je().windowInfo,e=Object(V.useState)(!1),t=Object(rn.a)(e,2),r=t[0],i=t[1],c=Object(V.useState)(null),a=Object(rn.a)(c,2),o=a[0],s=a[1],u=Object(V.useState)(null),d=Object(rn.a)(u,2),f=d[0],l=d[1],b=Object(V.useState)(null),j=Object(rn.a)(b,2),p=j[0],h=j[1],g=Object(V.useState)(null),O=Object(rn.a)(g,2),m=O[0],x=O[1],v=Object(V.useState)(0),w=Object(rn.a)(v,2),y=w[0],k=w[1],S=Object(V.useState)(0),P=Object(rn.a)(S,2),z=P[0],L=P[1],A=Object(V.useState)(0),C=Object(rn.a)(A,2),I=C[0],M=C[1],T=Object(V.useState)(0),F=Object(rn.a)(T,2),R=F[0],Y=F[1],E=Object(V.useState)(null),N=Object(rn.a)(E,2),H=N[0],G=N[1],U=Object(V.useState)(""),W=Object(rn.a)(U,2),D=W[0],K=W[1],B=Object(V.useState)(""),J=Object(rn.a)(B,2),Z=J[0],X=J[1],q=Object(V.useState)(!1),Q=Object(rn.a)(q,2),nn=Q[0],cn=Q[1],on=Object(V.useState)(120),sn=Object(rn.a)(on,2),dn=sn[0],fn=sn[1],ln=Object(V.useRef)(),bn=Object(V.useRef)(0),jn=Object(V.useRef)(0),pn=Object(V.useRef)(0),gn=Object(V.useRef)(0),On=Object(V.useRef)(120),mn=Object(V.useRef)(),vn=Object(V.useRef)(),wn=Object(V.useRef)(),yn=Object(V.useState)(!1),kn=Object(rn.a)(yn,2),Sn=kn[0],Pn=kn[1],zn=Object(V.useState)(!1),Ln=Object(rn.a)(zn,2),An=Ln[0],Mn=Ln[1],Tn=Object(V.useState)(!1),Fn=Object(rn.a)(Tn,2),Rn=Fn[0],En=Fn[1],Hn=Object(V.useRef)(),Un=Object(V.useState)(Array.from({length:12},(function(){return!1}))),Wn=Object(rn.a)(Un,2),Dn=Wn[0],Kn=Wn[1],Bn=Object(V.useState)(0),Jn=Object(rn.a)(Bn,2),Zn=Jn[0],Vn=Jn[1],Xn=Object(V.useState)(!0),qn=Object(rn.a)(Xn,2),Qn=qn[0],$n=qn[1],_n=Object(V.useState)(!0),ne=Object(rn.a)(_n,2),ee=ne[0],te=ne[1],re=Object(V.useState)(!1),ie=Object(rn.a)(re,2),ce=ie[0],ae=ie[1],oe=Object(V.useState)([]),ue=Object(rn.a)(oe,2),de=ue[0],fe=ue[1],le=Object(V.useState)(!1),ve=Object(rn.a)(le,2),we=ve[0],ye=ve[1],ke=function(){var n=Object(tn.a)(en.a.mark((function n(){var e;return en.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return K(""),e=new an.a.auth.GoogleAuthProvider,n.next=4,pe.setPersistence(an.a.auth.Auth.Persistence.LOCAL).then((function(){return an.a.auth().signInWithPopup(e).then((function(n){Pe(n.user)})).catch((function(n){K(n.message)}))}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Se=function(){var n=Object(tn.a)(en.a.mark((function n(){var e;return en.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return K(""),e=new an.a.auth.FacebookAuthProvider,n.next=4,pe.setPersistence(an.a.auth.Auth.Persistence.LOCAL).then((function(){return pe.signInWithPopup(e).then((function(n){Pe(n.user)})).catch((function(n){K(n.message)}))}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Pe=function(n){te(!1),l(n.uid),s(n.displayName),i(!0),he.collection("users").doc(n.uid).get().then((function(n){var e=!0;if(n.exists){var t=n.data(),r=t.history,i=t.shouldContinue;fe(r),i&&(e=!1)}if(e)Gn(h,x,ge,wn,ae,mn,On.current);else{var c=n.data(),a=c.score,o=c.tries,s=c.guesses,u=c.timeLeftState,d=c.didntGuessStreak,f=c.currentFlippedCard,l=c.cardImageUrls,b=c.cardStates,j=c.shouldContinue;L(s),jn.current=s,M(a),bn.current=a,k(o),pn.current=o,fn(u),On.current=u,Y(d),gn.current=d,G(f),h(l),x(b),Mn(j),ae(!0)}})).catch((function(n){Ce(n.message)}))};Object(V.useEffect)((function(){return an.a.auth().onAuthStateChanged((function(n){n?Pe(n):te(!1)})),function(){clearTimeout(Hn.current),clearTimeout(vn.current)}}),[]),Object(V.useEffect)((function(){var n=1;ce&&(n+=1),Dn.forEach((function(e){e&&n++})),Vn(n),!Dn.includes(!1)&&ce&&$n(!1)}),[ce,Dn]);var ze=function(){En(!0),clearInterval(mn.current),fe((function(){var n=[].concat(Object(_.a)(de),[{tries:pn.current,score:bn.current,timeNeeded:120-On.current,createdAt:(new Date).getTime()}]);return ye(!0),he.collection("users").doc(f).set({history:n}).then((function(){ye(!1)})).catch((function(n){Ce(n.message),ye(!1)})),n})),Hn.current=setTimeout((function(){En(!1),clearTimeout(Hn.current),$n(!0),ae(!1),Kn(Array.from({length:12},(function(){return!1}))),Gn(h,x,ge,wn,ae,mn,On.current),jn.current=0,L(0),pn.current=0,k(0),bn.current=0,M(0),On.current=120,fn(120),Pn(!1),Mn(!1),x((function(n){return n.map((function(n){return Object($.a)(Object($.a)({},n),{},{flipped:!1})}))}))}),3e3)};Object(V.useEffect)((function(){if(Sn)return mn.current=setInterval((function(){On.current>0?(On.current=On.current-1,fn(On.current)):(ze(),clearInterval(mn.current))}),1e3),function(){clearInterval(mn.current)}}),[Sn]);var Le=function(n){m[n].flipped||nn||!Sn||(x((function(e){return e.map((function(e,t){return t===n?Object($.a)(Object($.a)({},e),{},{flipped:!0}):e}))})),cn(!0),vn.current=setTimeout((function(){return cn(!1),null===H?G(n):m[H].urlIndex===m[n].urlIndex?(bn.current=bn.current+function(n,e,t,r){var i=Math.round(10+(n+1)/(e+1)*80+(t-60)/120*80+10-5*r);return i<10?10:i}(jn.current,pn.current,On.current,gn.current),M(bn.current),pn.current+=1,k(pn.current),gn.current=0,Y(0),G(null),jn.current+=1,L(jn.current),void(6===jn.current&&ze())):(pn.current+=1,k(pn.current),gn.current+=1,Y(gn.current),G(null),void x((function(e){return e.map((function(e,t){return t===n||t===H?Object($.a)(Object($.a)({},e),{},{flipped:!1}):e}))})))}),500))},Ae=function(){Ie(),an.a.auth().signOut().then((function(){i(!1),s("")}))},Ce=function(n){X(n),ln.current=setTimeout((function(){X(""),clearTimeout(ln.current)}),5e3)},Ie=function(){Pn(!1),ye(!0),he.collection("users").doc(f).set({score:I,tries:y,guesses:z,timeLeftState:dn,didntGuessStreak:R,currentFlippedCard:H,history:de,cardImageUrls:p,cardStates:m,shouldContinue:An}).then((function(){ye(!1)})).catch((function(n){ye(!1),Ce(n.message)}))};return Object(un.jsxs)(me,{children:[Z.length>0&&Object(un.jsx)(xe,{children:Z}),ee?Object(un.jsx)(Yn,{srcProp:In}):r?Object(un.jsxs)(un.Fragment,{children:[n.isMobile?Object(un.jsx)(be,{currentUser:o,signOut:Ae}):Object(un.jsx)(xn,{currentUser:o,signOut:Ae}),Object(un.jsx)(se,{history:de,save:Ie,score:I,timeLeft:dn,tries:y,isMobile:n.isMobile,loading:Qn||we,gameFinished:Rn}),Object(un.jsx)(Nn,{shouldContinue:An,start:function(){ce&&(Pn(!0),Mn(!0))},started:Sn,loading:Qn||we,progressLength:14,imageLoadingProgress:Zn,children:ce&&m.map((function(n,e){var t=n.urlIndex,r=n.flipped;return Object(un.jsx)(hn,{loading:Qn||we,setImageLoaded:Kn,onCardClickFunction:Le,imageSrc:p[t],flipped:r,index:e},e)}))})]}):Object(un.jsx)(Cn,{error:D,facebookLogin:Se,googleLogin:ke}),Object(un.jsx)(Oe,{})]})};Q.a.render(Object(un.jsx)(X.a.StrictMode,{children:Object(un.jsx)(ve,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.bce37eac.chunk.js.map