(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{40:function(n,e,t){"use strict";t.r(e);var r,i,c,a,o,s,u,d,f,l,b,j,p,h,O,m,x,g,v,w,y,k,S,z,A,C,P,I,M,L,T,F,R,Y,N,E,H,G,U,W,D,K,B,J=t(2),Z=t.n(J),V=t(26),X=t.n(V),q=t(15),Q=t(12),$=t(14),_=t.n($),nn=t(18),en=t(7),tn=t(4),rn=t(11),cn=(t(36),t(42),t(41),t(5)),an=t.p+"static/media/Konoha.8438ae9d.svg",on=t(1),sn=cn.c.div(r||(r=Object(tn.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  transition: 0.5s transform ease;\n  backface-visibility: hidden;\n  top: 0;\n  left: 0;\n"]))),un=Object(cn.c)(sn)(i||(i=Object(tn.a)(["\n  background: #84abf3;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transform: ",";\n"])),(function(n){return n.flipped?"rotateY(180deg)":null})),dn=Object(cn.c)(sn)(c||(c=Object(tn.a)(["\n  transform: rotateY(-180deg);\n  background: red;\n  transform: ",";\n"])),(function(n){return n.flipped?"rotateY(0deg)":null})),fn=cn.c.div(a||(a=Object(tn.a)(["\n  border-radius: 3px;\n  overflow: hidden;\n  width: 100%;\n  max-height: 50vh;\n  position: relative;\n  cursor: pointer;\n  visibility: ",";\n  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.19), 3px 3px 6px rgba(0, 0, 0, 0.23);\n"])),(function(n){return n.loadingProp&&"hidden"})),ln=cn.c.img.attrs((function(n){return{src:n.srcProp,alt:n.altProp}}))(o||(o=Object(tn.a)(["\n  margin: auto;\n  display: block;\n  width: 30%;\n"]))),bn=cn.c.img.attrs((function(n){return{src:n.srcProp,alt:n.altProp}}))(s||(s=Object(tn.a)(["\n  width: 100%;\n  height: 100%;\n\n  object-fit: cover;\n  object-position: center;\n"]))),jn=function(n){var e=n.imageSrc,t=n.flipped,r=n.index,i=n.onCardClickFunction,c=n.setImageLoaded,a=n.loading;return Object(on.jsxs)(fn,{loadingProp:a,onClick:function(){return i(r)},children:[Object(on.jsx)(un,{flipped:t,children:Object(on.jsx)(ln,{srcProp:an,altProp:"Konoha"})}),Object(on.jsx)(dn,{flipped:t,children:Object(on.jsx)(bn,{onLoad:function(){c((function(n){var e=Object(Q.a)(n);return e[r]=!0,e}))},srcProp:e})})]})},pn=cn.c.div(u||(u=Object(tn.a)(["\n  display: flex;\n  justify-content: space-between;\n  grid-column: 1/-1;\n  padding: 10px;\n  align-items: center;\n  border: 1px solid #03d9ff;\n  border-radius: 3px;\n"]))),hn=cn.c.div(d||(d=Object(tn.a)(["\n  font-size: 1rem;\n  font-weight: 700;\n  color: #575757;\n"]))),On=cn.c.div(f||(f=Object(tn.a)(["\n  width: max-content;\n  background: #ff6464;\n  color: white;\n  font-size: 1.2rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  cursor: pointer;\n  border-radius: 3px;\n"]))),mn=function(n){var e=n.currentUser,t=n.signOut;return Object(on.jsxs)(pn,{children:[Object(on.jsx)(hn,{children:e}),Object(on.jsx)(On,{onClick:function(){return t()},children:"Sign Out"})]})},xn=Object(cn.d)(l||(l=Object(tn.a)(["\n    from {\n        transform:translate(-50%,-30%);\n    }\n    to{\n        transform:translate(-50%,-50%);\n    }\n"]))),gn=cn.c.div(b||(b=Object(tn.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  height: 300px;\n  width: 300px;\n  min-width: 20vw;\n  min-height: 20vh;\n  max-width: 100%;\n  max-height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 5px;\n  animation: 0.5s "," forwards ease-out;\n"])),xn),vn=Object(cn.d)(j||(j=Object(tn.a)(["\n    from {transform:translateY(30%) scale(1); opacity:0.5;}\n    to {transform:translateY(0%) scale(1); opacity:1;}\n"]))),wn=cn.c.div(p||(p=Object(tn.a)(["\n  height: 50px;\n  width: 250px;\n  min-width: 80%;\n  min-height: 20%;\n  max-width: 100%;\n  max-height: 45%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.2rem;\n  animation: 1s "," ease-out;\n  cursor: pointer;\n  transition: 0.2s transform;\n  :active {\n    transform: scale(1.02);\n    opacity: 0.7;\n  }\n"])),vn),yn=Object(cn.c)(wn)(h||(h=Object(tn.a)(["\n  background: #f75858;\n\n  color: white;\n"]))),kn=Object(cn.c)(wn)(O||(O=Object(tn.a)(["\n  background: #6eaffa;\n  color: white;\n"]))),Sn=cn.c.div(m||(m=Object(tn.a)(["\n  color: #69df69;\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 10%;\n  margin-top: 10%;\n"]))),zn=Object(cn.d)(x||(x=Object(tn.a)(["\n    0% {opacity:0}\n    10%, 90% {opacity:1}\n    100% {opacity:0}\n"]))),An=cn.c.div(g||(g=Object(tn.a)(["\n  color: #f35555;\n  background: white;\n  font-weight: 600;\n  position: absolute;\n  left: 0px;\n  right: 0px;\n  top: 0;\n  text-align: center;\n  z-index: 10;\n  animation: ",";\n"])),(function(n){return n.error?Object(cn.b)(v||(v=Object(tn.a)(["5s "," forwards ease-in-out"])),zn):null})),Cn=function(n){var e=n.facebookLogin,t=n.googleLogin,r=n.error;return Object(on.jsxs)(gn,{children:[Object(on.jsx)(An,{error:r.length>0,children:r}),Object(on.jsx)(Sn,{children:"Sign In"}),Object(on.jsx)(yn,{onClick:t,children:"Google"}),Object(on.jsx)(kn,{onClick:e,children:"Facebook"})]})},Pn=t.p+"static/media/Loading.abac6ad2.svg",In=cn.c.div(w||(w=Object(tn.a)(["\n  padding: 4px;\n  margin-top: 20px;\n  flex-grow: 1;\n  display: grid;\n\n  @media (min-width: 500px) {\n    grid-template-columns: repeat(4, minmax(100px, 1fr));\n    grid-template-rows: repeat(3, 1fr);\n  }\n  @media (min-width: 1000px) {\n    grid-template-columns: repeat(4, 150px);\n    grid-template-rows: repeat(3, minmax(1fr, 250px));\n  }\n  @media (min-width: 1500px) {\n    grid-template-columns: repeat(6, 150px);\n    grid-template-rows: repeat(2, minmax(1fr, 250px));\n  }\n  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n  align-items: stretch;\n  justify-content: center;\n  grid-gap: 4px;\n"]))),Mn=cn.c.object.attrs((function(n){return{data:n.srcProp,type:"image/svg+xml"}}))(y||(y=Object(tn.a)(["\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  width: 5%;\n  transform: translate(-50%, -50%);\n"]))),Ln=cn.c.div(k||(k=Object(tn.a)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 10%;\n  border: 1px solid black;\n  border-radius: 3px;\n  padding: 15px;\n  color: #006eff;\n  font-size: 1.5rem;\n  font-weight: 600;\n  background: #b0ffb0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 20;\n  cursor: pointer;\n  :active {\n    background: #d5ffd5;\n  }\n"]))),Tn=function(n){return Object(on.jsxs)(on.Fragment,{children:[n.loading?Object(on.jsx)(Mn,{srcProp:Pn}):!n.started&&Object(on.jsx)(Ln,{onClick:function(){return n.start()},children:n.shouldContinue?"Continue":"Start"}),Object(on.jsx)(In,{loadingProp:n.loading,children:n.children})]})},Fn=t(30),Rn=function(){var n=Object(nn.a)(_.a.mark((function n(e,t,r,i,c){var a,o,s,u,d;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=[],n.next=3,r.listAll().then((function(n){return n})).catch((function(n){}));case 3:o=n.sent,s=Object(Fn.a)(o.items),n.prev=5,s.s();case 7:if((u=s.n()).done){n.next=13;break}return d=u.value,n.next=11,d.getDownloadURL().then((function(n){a.push(n)})).catch((function(n){}));case 11:n.next=7;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),s.e(n.t0);case 18:return n.prev=18,s.f(),n.finish(18);case 21:i.current=a,e(Yn(a)),t(Nn()),c(!0);case 25:case"end":return n.stop()}}),n,null,[[5,15,18,21]])})));return function(e,t,r,i,c){return n.apply(this,arguments)}}(),Yn=function(n){for(var e=Object(Q.a)(n),t=[],r=0;r<6;r++)t.push(e.splice(Math.round(Math.random()*e.length-1),1)[0]);return t},Nn=function(){for(var n=[].concat(Object(Q.a)(Array.from(Array(6).keys())),Object(Q.a)(Array.from(Array(6).keys()))),e=[],t=0;t<12;t++)e.push({urlIndex:n.splice(Math.round(Math.random()*n.length-1),1)[0],flipped:!1});return e},En=function(n){var e=~~n%60,t="";return t+=~~(n%3600/60)+":"+(e<10?"0":""),t+=""+e},Hn=function(n){var e=6e4,t=36e5,r=864e5,i=2592e6,c=31536e6,a=Date.now()-n;return a<e?Math.round(a/1e3)+" seconds ago":a<t?Math.round(a/e)+" minutes ago":a<r?Math.round(a/t)+" hours ago":a<i?"approximately "+Math.round(a/r)+" days ago":a<c?"approximately "+Math.round(a/i)+" months ago":"approximately "+Math.round(a/c)+" years ago"},Gn=t.p+"static/media/Arrow.5b0512cf.svg",Un=cn.c.div(S||(S=Object(tn.a)(["\n  height: 50vh;\n  display: flex;\n  position: absolute;\n  background: #a3ddff;\n  z-index: 20;\n  bottom: 0;\n  left: 0;\n  margin: 0 !important;\n  padding: 2rem 10px 0 10px;\n  overflow: auto;\n  box-sizing: border-box;\n  ::-webkit-scrollbar {\n    width: 5px;\n    height: 5px;\n    background: #ffffff;\n  }\n  ::-webkit-scrollbar-thumb {\n    background: gray;\n  }\n\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: start;\n  transition: 1s transform ease;\n  transform: ",";\n"])),(function(n){return n.showHistory?"translateY(100%)":"translateY(0%)"})),Wn=cn.c.div(z||(z=Object(tn.a)(["\n  width: 100%;\n  margin: 15px 0;\n  display: flex;\n  justify-content: space-between;\n  > * {\n    font-size: 0.8rem !important;\n  }\n"]))),Dn=cn.c.div(A||(A=Object(tn.a)(["\n  color: #ffffff;\n"]))),Kn=cn.c.div(C||(C=Object(tn.a)(["\n  font-size: 1.3rem;\n  color: white;\n  margin-top: 10px;\n"]))),Bn=function(n){var e=n.history,t=n.showHistory,r=n.isMobile;return Object(on.jsx)(Un,{showHistory:t,children:e.length>0?Object(Q.a)(e).reverse().map((function(n,e){var t=n.tries,i=n.score,c=n.timeNeeded,a=n.createdAt;return Object(on.jsxs)(Wn,{children:[Object(on.jsxs)(Qn,{children:[!r&&"Score:"," ",i]}),Object(on.jsxs)(_n,{children:[!r&&"Tries:"," ",t]}),Object(on.jsxs)($n,{children:[!r&&"Time Needed:"," ",c]}),Object(on.jsxs)(Dn,{children:[" ",Hn(a)," "]})]},e)})):Object(on.jsx)(Kn,{children:"No Games Yet"})})},Jn=cn.c.div(P||(P=Object(tn.a)(["\n  position: fixed;\n  border: 0 !important;\n\n  top: 0;\n  @media (max-width: 768px) {\n    right: 0;\n    left: initial;\n    transform: initial;\n  }\n  left: 50%;\n  transform: translateX(-50%);\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 30;\n"]))),Zn=cn.c.div(I||(I=Object(tn.a)(["\n  position: relative;\n"]))),Vn=cn.c.div(M||(M=Object(tn.a)(["\n  background: rgb(137, 198, 255, 0.5);\n  font-size: 1.2rem;\n  display: flex;\n  justify-content: space-between;\n  padding: 5px;\n  > * {\n    margin: 0 10px;\n  }\n"]))),Xn=cn.c.div(L||(L=Object(tn.a)(["\n  position: absolute;\n  bottom: 100%;\n  right: 0;\n  width: 150%;\n  box-sizing: border-box;\n  z-index: -1;\n"]))),qn=cn.c.div(T||(T=Object(tn.a)(["\n  width: max-content;\n  white-space: nowrap;\n"]))),Qn=Object(cn.c)(qn)(F||(F=Object(tn.a)(["\n  color: green;\n"]))),$n=Object(cn.c)(qn)(R||(R=Object(tn.a)(["\n  color: red;\n"]))),_n=Object(cn.c)(qn)(Y||(Y=Object(tn.a)(["\n  color: blue;\n"]))),ne=cn.c.div(N||(N=Object(tn.a)(["\n  left: 0;\n  padding: 5px;\n  margin-right: 10px;\n  height: 100%;\n  font-size: 1.2rem;\n  text-align: center;\n  background: #5eb1ff;\n  color: white;\n  cursor: pointer;\n"]))),ee=cn.c.img.attrs((function(n){return{src:n.srcProp}}))(E||(E=Object(tn.a)(["\n  transition: transform 1s ease;\n\n  transform: ",";\n  cursor: pointer;\n  margin: 0 10px;\n  width: 1rem;\n"])),(function(n){return n.showHistory?"rotate(-180deg)":"rotate(0deg)"})),te=Object(cn.c)(Vn)(H||(H=Object(tn.a)(["\n  position: fixed;\n  left: 50%;\n  top: 30%;\n  transform: translate(-50%, -50%);\n  padding: 15px;\n  border-radius: 3px;\n  background: rgb(151, 255, 174);\n  z-index: 30;\n"]))),re=function(n){var e=n.isMobile,t=n.history,r=n.save,i=n.score,c=n.timeLeft,a=n.tries,o=n.gameFinished,s=Object(J.useState)(!1),u=Object(en.a)(s,2),d=u[0],f=u[1],l=Object(J.useState)({score:0,tries:0,timeNeeded:0}),b=Object(en.a)(l,2),j=b[0],p=b[1];return Object(J.useEffect)((function(){t.length>0&&p((function(){return t[t.length-1]}))}),[t]),Object(on.jsxs)(on.Fragment,{children:[o&&Object(on.jsxs)(te,{children:[Object(on.jsxs)(Qn,{children:["Score: ",j.score]}),Object(on.jsxs)(_n,{children:["Tries: ",j.tries]}),Object(on.jsxs)($n,{children:["Time Needed: ",En(j.timeNeeded)]})]}),Object(on.jsxs)(Jn,{isMobile:e,children:[Object(on.jsx)(ne,{onClick:function(){return r()},children:"Save"}),Object(on.jsxs)(Zn,{children:[Object(on.jsxs)(Vn,{children:[Object(on.jsxs)(Qn,{children:[!e&&"Score:"," ",i]}),Object(on.jsxs)(_n,{children:[!e&&"Tries:"," ",a]}),Object(on.jsxs)($n,{children:[!e&&"Time Left:"," ",En(c)]})]}),Object(on.jsx)(Xn,{children:Object(on.jsx)(Bn,{isMobile:e,showHistory:d,history:t})})]}),Object(on.jsx)(ee,{showHistory:d,onClick:function(){return f(!d)},srcProp:Gn})]})]})},ie=t.p+"static/media/Menu.de21b81a.svg",ce=cn.c.div(G||(G=Object(tn.a)(["\n  position: fixed;\n  transition: height 1s ease, width 1s ease, border-radius 1s ease;\n  background: #c4ffff;\n  width: ",";\n  height: ",";\n\n  transform: translate(-50%, -50%);\n  left: 0;\n  top: 0;\n  border-radius: "," !important;\n  z-index: 30;\n  cursor: pointer;\n"])),(function(n){return n.menuActivated?"400px":"100px"}),(function(n){return n.menuActivated?"400px":"100px"}),(function(n){return n.menuActivated?"0%":"50%"})),ae=cn.c.img.attrs((function(n){return{src:n.src}}))(U||(U=Object(tn.a)(["\n  position: fixed;\n  left: 3px;\n  top: 3px;\n  width: 1.5rem;\n  z-index: 40;\n  cursor: pointer;\n"]))),oe=cn.c.div(W||(W=Object(tn.a)(["\n  opacity: ",";\n  transform: ",";\n  transition: opacity 1s, transform 1s;\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  top: 2rem;\n  left: 3rem;\n  z-index: 50;\n  border: 0px !important;\n  gap: 10px;\n"])),(function(n){return n.menuActivated?1:0}),(function(n){return n.menuActivated?"translate(0%,0%)":"translate(-150%,-200%)"})),se=function(n){var e=n.currentUser,t=n.signOut,r=Object(J.useState)(!1),i=Object(en.a)(r,2),c=i[0],a=i[1];return Object(on.jsxs)(on.Fragment,{children:[Object(on.jsx)(ce,{menuActivated:c,onClick:function(){return a(!c)}}),Object(on.jsx)(ae,{onClick:function(){return a(!c)},src:ie}),Object(on.jsxs)(oe,{menuActivated:c,children:[Object(on.jsx)(hn,{children:e}),Object(on.jsx)(On,{onClick:function(){return t()},children:" Sign out"})]})]})},ue=function(){var n=Object(J.useState)({width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<=768}),e=Object(en.a)(n,2),t=e[0],r=e[1];return Object(J.useEffect)((function(){var n=function(){r({width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<=768})};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}})),{windowInfo:t}};rn.a.initializeApp({apiKey:"AIzaSyDNSZ31RYwTbdfVar02zwZAtBzc2OYfGxo",authDomain:"card-game-2c6cb.firebaseapp.com",projectId:"card-game-2c6cb",storageBucket:"card-game-2c6cb.appspot.com",messagingSenderId:"1093466034026",appId:"1:1093466034026:web:f0e1c493db29e44a759f13",measurementId:"G-TKFCP861PS"});var de=rn.a.auth(),fe=rn.a.firestore(),le=rn.a.storage().ref().child("Images"),be=Object(cn.a)(D||(D=Object(tn.a)(["\n  body{\n    margin:0;\n  }\n"]))),je=cn.c.div(K||(K=Object(tn.a)(["\n  display: flex;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n  height: 100vh;\n  width: 70%;\n  margin: auto;\n"]))),pe=cn.c.div(B||(B=Object(tn.a)(["\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  width: 50vw;\n  height: 50vh;\n  transform: translate(-50%, -50%);\n  border: 1px solid gray;\n  background: #f7f7f7;\n  color: #ff4848;\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 40;\n"])));var he=function(){var n=ue().windowInfo,e=Object(J.useState)(!1),t=Object(en.a)(e,2),r=t[0],i=t[1],c=Object(J.useState)(null),a=Object(en.a)(c,2),o=a[0],s=a[1],u=Object(J.useState)(null),d=Object(en.a)(u,2),f=d[0],l=d[1],b=Object(J.useState)(null),j=Object(en.a)(b,2),p=j[0],h=j[1],O=Object(J.useState)(null),m=Object(en.a)(O,2),x=m[0],g=m[1],v=Object(J.useState)(0),w=Object(en.a)(v,2),y=w[0],k=w[1],S=Object(J.useState)(0),z=Object(en.a)(S,2),A=z[0],C=z[1],P=Object(J.useState)(0),I=Object(en.a)(P,2),M=I[0],L=I[1],T=Object(J.useState)(0),F=Object(en.a)(T,2),R=F[0],Y=F[1],N=Object(J.useState)(null),E=Object(en.a)(N,2),H=E[0],G=E[1],U=Object(J.useState)(""),W=Object(en.a)(U,2),D=W[0],K=W[1],B=Object(J.useState)(""),Z=Object(en.a)(B,2),V=Z[0],X=Z[1],$=Object(J.useState)(!1),tn=Object(en.a)($,2),cn=tn[0],an=tn[1],sn=Object(J.useState)(120),un=Object(en.a)(sn,2),dn=un[0],fn=un[1],ln=Object(J.useRef)(),bn=Object(J.useRef)(0),pn=Object(J.useRef)(0),hn=Object(J.useRef)(0),On=Object(J.useRef)(0),xn=Object(J.useRef)(120),gn=Object(J.useRef)(),vn=Object(J.useRef)(),wn=Object(J.useRef)(),yn=Object(J.useState)(!1),kn=Object(en.a)(yn,2),Sn=kn[0],zn=kn[1],An=Object(J.useState)(!1),In=Object(en.a)(An,2),Ln=In[0],Fn=In[1],Yn=Object(J.useState)(!1),Nn=Object(en.a)(Yn,2),En=Nn[0],Hn=Nn[1],Gn=Object(J.useRef)(),Un=Object(J.useState)(Array.from({length:12},(function(){return!1}))),Wn=Object(en.a)(Un,2),Dn=Wn[0],Kn=Wn[1],Bn=Object(J.useState)(!0),Jn=Object(en.a)(Bn,2),Zn=Jn[0],Vn=Jn[1],Xn=Object(J.useState)(!0),qn=Object(en.a)(Xn,2),Qn=qn[0],$n=qn[1],_n=Object(J.useState)(!1),ne=Object(en.a)(_n,2),ee=ne[0],te=ne[1],ie=Object(J.useState)([]),ce=Object(en.a)(ie,2),ae=ce[0],oe=ce[1],he=Object(J.useState)(!1),Oe=Object(en.a)(he,2),me=Oe[0],xe=Oe[1],ge=function(){var n=Object(nn.a)(_.a.mark((function n(){var e;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return K(""),e=new rn.a.auth.GoogleAuthProvider,n.next=4,de.setPersistence(rn.a.auth.Auth.Persistence.LOCAL).then((function(){return rn.a.auth().signInWithPopup(e).then((function(n){we(n.user)})).catch((function(n){K(n.message)}))}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ve=function(){var n=Object(nn.a)(_.a.mark((function n(){var e;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return K(""),e=new rn.a.auth.FacebookAuthProvider,n.next=4,de.setPersistence(rn.a.auth.Auth.Persistence.LOCAL).then((function(){return de.signInWithPopup(e).then((function(n){we(n.user)})).catch((function(n){K(n.message)}))}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),we=function(n){$n(!1),l(n.uid),s(n.displayName),i(!0),fe.collection("users").doc(n.uid).get().then((function(n){var e=!0;if(n.exists){var t=n.data(),r=t.history,i=t.shouldContinue;oe(r),i&&(e=!1)}if(e)Rn(h,g,le,wn,te,gn,xn.current);else{var c=n.data(),a=c.score,o=c.tries,s=c.guesses,u=c.timeLeftState,d=c.didntGuessStreak,f=c.currentFlippedCard,l=c.cardImageUrls,b=c.cardStates,j=c.shouldContinue;C(s),pn.current=s,L(a),bn.current=a,k(o),hn.current=o,fn(u),xn.current=u,Y(d),On.current=d,G(f),h(l),g(b),Fn(j),te(!0)}})).catch((function(n){ze(n.message)}))};Object(J.useEffect)((function(){return rn.a.auth().onAuthStateChanged((function(n){n?we(n):$n(!1)})),function(){clearTimeout(Gn.current),clearTimeout(vn.current)}}),[]),Object(J.useEffect)((function(){!Dn.includes(!1)&&ee&&Vn(!1)}),[ee,Dn]);var ye=function(){Hn(!0),clearInterval(gn.current),oe((function(){var n=[].concat(Object(Q.a)(ae),[{tries:hn.current,score:bn.current,timeNeeded:120-xn.current,createdAt:(new Date).getTime()}]);return xe(!0),fe.collection("users").doc(f).set({history:n}).then((function(){xe(!1)})).catch((function(n){ze(n.message),xe(!1)})),n})),Gn.current=setTimeout((function(){Hn(!1),clearTimeout(Gn.current),Vn(!0),te(!1),Rn(h,g,le,wn,te,gn,xn.current),pn.current=0,C(0),hn.current=0,k(0),bn.current=0,L(0),xn.current=120,fn(120),zn(!1),Fn(!1),g((function(n){return n.map((function(n){return Object(q.a)(Object(q.a)({},n),{},{flipped:!1})}))}))}),3e3)};Object(J.useEffect)((function(){if(Sn)return gn.current=setInterval((function(){xn.current>0?(xn.current=xn.current-1,fn(xn.current)):(ye(),clearInterval(gn.current))}),1e3),function(){clearInterval(gn.current)}}),[Sn]);var ke=function(n){x[n].flipped||cn||!Sn||(g((function(e){return e.map((function(e,t){return t===n?Object(q.a)(Object(q.a)({},e),{},{flipped:!0}):e}))})),an(!0),vn.current=setTimeout((function(){return an(!1),null===H?G(n):x[H].urlIndex===x[n].urlIndex?(bn.current=bn.current+function(n,e,t,r){var i=Math.round(10+(n+1)/(e+1)*80+(t-60)/120*80+10-5*r);return i<10?10:i}(pn.current,hn.current,xn.current,On.current),L(bn.current),hn.current+=1,k(hn.current),On.current=0,Y(0),G(null),pn.current+=1,C(pn.current),void(6===pn.current&&ye())):(hn.current+=1,k(hn.current),On.current+=1,Y(On.current),G(null),void g((function(e){return e.map((function(e,t){return t===n||t===H?Object(q.a)(Object(q.a)({},e),{},{flipped:!1}):e}))})))}),500))},Se=function(){Ae(),rn.a.auth().signOut().then((function(){i(!1),s("")}))},ze=function(n){X(n),ln.current=setTimeout((function(){X(""),clearTimeout(ln.current)}),5e3)},Ae=function(){zn(!1),xe(!0),fe.collection("users").doc(f).set({score:M,tries:y,guesses:A,timeLeftState:dn,didntGuessStreak:R,currentFlippedCard:H,history:ae,cardImageUrls:p,cardStates:x,shouldContinue:Ln}).then((function(){xe(!1)})).catch((function(n){xe(!1),ze(n.message)}))};return Object(on.jsxs)(je,{children:[V.length>0&&Object(on.jsx)(pe,{children:V}),Qn?Object(on.jsx)(Mn,{srcProp:Pn}):r?Object(on.jsxs)(on.Fragment,{children:[n.isMobile?Object(on.jsx)(se,{currentUser:o,signOut:Se}):Object(on.jsx)(mn,{currentUser:o,signOut:Se}),Object(on.jsx)(re,{history:ae,save:Ae,score:M,timeLeft:dn,tries:y,isMobile:n.isMobile,loading:Zn||me,gameFinished:En}),Object(on.jsx)(Tn,{shouldContinue:Ln,start:function(){ee&&(zn(!0),Fn(!0))},started:Sn,loading:Zn||me,children:ee&&x.map((function(n,e){var t=n.urlIndex,r=n.flipped;return Object(on.jsx)(jn,{loading:Zn||me,setImageLoaded:Kn,onCardClickFunction:ke,imageSrc:p[t],flipped:r,index:e},e)}))})]}):Object(on.jsx)(Cn,{error:D,facebookLogin:ve,googleLogin:ge}),Object(on.jsx)(be,{})]})};X.a.render(Object(on.jsx)(Z.a.StrictMode,{children:Object(on.jsx)(he,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.5d3809f0.chunk.js.map